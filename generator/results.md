# Анализ результатов, полученных при нагрузочном тестировании Яндекс.Танком.

В рамках тестирования был написан генератор патронов (generate.py), 
который создавал различные ленты патронов для обстреливания. 
Затем было произведено обстреливание с линейно возрастающей нагрузкой для поиска точки разладки. 
А после производися обстрел с постоянной нагрузкой, примерно на 30% ниже точки разладки.

### Лента с PUTами с уникальными ключами

Результаты нагрузочного тестирования:
https://overload.yandex.net/230450

По результатам видно, что точка разладки приходится на 11500 rps. Также видно, что в стабильном режиме 
среднее время обработки запроса 0.5 мс, а 99% запросов обрабатываются за 1.2 мс.

Также хотелось отметить, что систему долго "отпускает" после нагрузки. Возможно это обосновано тем, что 
при большой нагрузке сильно возрастает число потоков (до 1000), а задачи набиваются в очередь. В результате чего 
эта тысяча потоков пытается эти задачи разгрести и у них это получается, мягко говоря, не очень.

### Лента с PUTами с частичной перезаписью ключей (вероятность 10%)

Результаты нагрузочного тестирования:
https://overload.yandex.net/230458

По результатам видно, что точка разладки опять-таки приходится примерно на 11500 rps. Также видно, 
что в стабильном режиме среднее время обработки запроса 0.4 мс, а 99% запросов обрабатываются за 1.3 мс.


### Лента с GETами существующих ключей с равномерным распределением (стреляем по наполненной БД)
 
Результаты нагрузочного тестирования: 
https://overload.yandex.net/230480  

Точка разладки приходится примерно на те же 11500 rps. Также видно, 
что в стабильном режиме среднее время обработки запроса 0.4 мс, а 99% запросов обрабатываются за 1.8 мс.
   
### Лента с GETами существующих ключей, но со смещением распределения GETов к недавно добавленным ключам (частый случай на практике)
   
Результаты нагрузочного тестирования:
https://overload.yandex.net/230485

Точка разладки примерно на тех же 11500 rps. 
Также видно, что в стабильном режиме среднее время обработки запроса 0.4 мс, а 99% запросов обрабатываются за 1.4 мс.
   
   
### Лента со смешанной нагрузкой с 50% PUTы новых ключей и 50% GETы существующих ключей (равномерное распределение)

Результаты нагрузочного тестирования:
https://overload.yandex.net/230493

По результатам видно, что точка разладки приходится примерно на 10700 rps. Также видно, 
что в стабильном режиме среднее время обработки запроса 0.4 мс, а 99% запросов обрабатываются за 1.2 мс.
